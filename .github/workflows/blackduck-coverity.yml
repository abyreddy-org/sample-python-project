'on':
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
jobs:
  coverity:
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Coverity Scan
        uses: blackduck-inc/black-duck-security-scan@v2.1.1
        with:
          polaris:
            polaris_assessment_types:
              - SAST
              - SCA
          coverity:
            coverity_policy_view: Outstanding Issues
          coverity_url: ${{ vars.COVERITY_URL }}
          blackduck-sca: {}
          coverity_user: ${{ vars.COVERITY_USER }}
          coverity_passphrase: ${{ secrets.COVERITY_PASSPHRASE }}
    runs-on:
      - ubuntu-latest
name: Black Duck Coverity
